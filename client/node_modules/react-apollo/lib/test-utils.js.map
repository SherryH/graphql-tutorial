{"version":3,"file":"test-utils.js","sources":["ApolloProvider.js","test-utils.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Component } from 'react';\nvar invariant = require('invariant');\nvar ApolloProvider = (function (_super) {\n    __extends(ApolloProvider, _super);\n    function ApolloProvider(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        invariant(props.client, 'ApolloClient was not passed a client instance. Make ' +\n            'sure you pass in your client via the \"client\" prop.');\n        if (!props.store) {\n            props.client.initStore();\n        }\n        return _this;\n    }\n    ApolloProvider.prototype.componentWillReceiveProps = function (nextProps) {\n        if (nextProps.client !== this.props.client && !nextProps.store) {\n            nextProps.client.initStore();\n        }\n    };\n    ApolloProvider.prototype.getChildContext = function () {\n        return {\n            store: this.props.store || this.context.store,\n            client: this.props.client,\n        };\n    };\n    ApolloProvider.prototype.render = function () {\n        return React.Children.only(this.props.children);\n    };\n    return ApolloProvider;\n}(Component));\nexport default ApolloProvider;\nApolloProvider.propTypes = {\n    store: PropTypes.shape({\n        subscribe: PropTypes.func.isRequired,\n        dispatch: PropTypes.func.isRequired,\n        getState: PropTypes.func.isRequired,\n    }),\n    client: PropTypes.object.isRequired,\n    children: PropTypes.element.isRequired,\n};\nApolloProvider.childContextTypes = {\n    store: PropTypes.object,\n    client: PropTypes.object.isRequired,\n};\nApolloProvider.contextTypes = {\n    store: PropTypes.object,\n};\n//# sourceMappingURL=ApolloProvider.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport ApolloClient from 'apollo-client';\nimport { print } from 'graphql';\nimport ApolloProvider from './ApolloProvider';\nvar MockedProvider = (function (_super) {\n    __extends(MockedProvider, _super);\n    function MockedProvider(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        if (_this.props.client)\n            return _this;\n        var networkInterface = mockNetworkInterface.apply(null, _this.props.mocks);\n        _this.client = new ApolloClient({ networkInterface: networkInterface });\n        return _this;\n    }\n    MockedProvider.prototype.render = function () {\n        return (React.createElement(ApolloProvider, { client: this.client || this.props.client, store: this.props.store || null }, this.props.children));\n    };\n    return MockedProvider;\n}(React.Component));\nexport { MockedProvider };\nvar MockedSubscriptionProvider = (function (_super) {\n    __extends(MockedSubscriptionProvider, _super);\n    function MockedSubscriptionProvider(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        var networkInterface = mockSubscriptionNetworkInterface.apply(void 0, [_this.props.subscriptions].concat(_this.props.responses));\n        _this.client = new ApolloClient({ networkInterface: networkInterface });\n        return _this;\n    }\n    MockedSubscriptionProvider.prototype.render = function () {\n        return (React.createElement(ApolloProvider, { client: this.client }, this.props.children));\n    };\n    return MockedSubscriptionProvider;\n}(React.Component));\nexport { MockedSubscriptionProvider };\nexport function mockNetworkInterface() {\n    var mockedResponses = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        mockedResponses[_i] = arguments[_i];\n    }\n    return new (MockNetworkInterface.bind.apply(MockNetworkInterface, [void 0].concat(mockedResponses)))();\n}\nexport function mockSubscriptionNetworkInterface(mockedSubscriptions) {\n    var mockedResponses = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        mockedResponses[_i - 1] = arguments[_i];\n    }\n    return new (MockSubscriptionNetworkInterface.bind.apply(MockSubscriptionNetworkInterface, [void 0, mockedSubscriptions].concat(mockedResponses)))();\n}\nvar MockNetworkInterface = (function () {\n    function MockNetworkInterface() {\n        var mockedResponses = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            mockedResponses[_i] = arguments[_i];\n        }\n        var _this = this;\n        this.mockedResponsesByKey = {};\n        mockedResponses.forEach(function (mockedResponse) {\n            if (!mockedResponse.result && !mockedResponse.error) {\n                throw new Error('Mocked response should contain either result or error.');\n            }\n            _this.addMockedResponse(mockedResponse);\n        });\n    }\n    MockNetworkInterface.prototype.addMockedResponse = function (mockedResponse) {\n        var key = requestToKey(mockedResponse.request);\n        var mockedResponses = this.mockedResponsesByKey[key];\n        if (!mockedResponses) {\n            mockedResponses = [];\n            this.mockedResponsesByKey[key] = mockedResponses;\n        }\n        mockedResponses.push(mockedResponse);\n    };\n    MockNetworkInterface.prototype.query = function (request) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var parsedRequest = {\n                query: request.query,\n                variables: request.variables,\n                debugName: request.debugName,\n            };\n            var key = requestToKey(parsedRequest);\n            if (!_this.mockedResponsesByKey[key] || _this.mockedResponsesByKey[key].length === 0) {\n                throw new Error('No more mocked responses for the query: ' + print(request.query));\n            }\n            var original = _this.mockedResponsesByKey[key].slice();\n            var _a = _this.mockedResponsesByKey[key].shift() || {}, result = _a.result, error = _a.error, delay = _a.delay, newData = _a.newData;\n            if (newData) {\n                original[0].result = newData();\n                _this.mockedResponsesByKey[key].push(original[0]);\n            }\n            if (!result && !error) {\n                throw new Error(\"Mocked response should contain either result or error: \" + key);\n            }\n            setTimeout(function () {\n                if (error)\n                    return reject(error);\n                return resolve(result);\n            }, delay ? delay : 1);\n        });\n    };\n    return MockNetworkInterface;\n}());\nexport { MockNetworkInterface };\nvar MockSubscriptionNetworkInterface = (function (_super) {\n    __extends(MockSubscriptionNetworkInterface, _super);\n    function MockSubscriptionNetworkInterface(mockedSubscriptions) {\n        var mockedResponses = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            mockedResponses[_i - 1] = arguments[_i];\n        }\n        var _this = _super.apply(this, mockedResponses) || this;\n        _this.mockedSubscriptionsByKey = {};\n        _this.mockedSubscriptionsById = {};\n        _this.handlersById = {};\n        _this.subId = 0;\n        mockedSubscriptions.forEach(function (sub) {\n            _this.addMockedSubscription(sub);\n        });\n        return _this;\n    }\n    MockSubscriptionNetworkInterface.prototype.generateSubscriptionId = function () {\n        var requestId = this.subId;\n        this.subId++;\n        return requestId;\n    };\n    MockSubscriptionNetworkInterface.prototype.addMockedSubscription = function (mockedSubscription) {\n        var key = requestToKey(mockedSubscription.request);\n        if (mockedSubscription.id === undefined) {\n            mockedSubscription.id = this.generateSubscriptionId();\n        }\n        var mockedSubs = this.mockedSubscriptionsByKey[key];\n        if (!mockedSubs) {\n            mockedSubs = [];\n            this.mockedSubscriptionsByKey[key] = mockedSubs;\n        }\n        mockedSubs.push(mockedSubscription);\n    };\n    MockSubscriptionNetworkInterface.prototype.subscribe = function (request, handler) {\n        var parsedRequest = {\n            query: request.query,\n            variables: request.variables,\n            debugName: request.debugName,\n        };\n        var key = requestToKey(parsedRequest);\n        if (this.mockedSubscriptionsByKey.hasOwnProperty(key)) {\n            var subscription = this.mockedSubscriptionsByKey[key].shift();\n            this.handlersById[subscription.id] = handler;\n            this.mockedSubscriptionsById[subscription.id] = subscription;\n            return subscription.id;\n        }\n        else {\n            throw new Error('Network interface does not have subscription associated with this request.');\n        }\n    };\n    MockSubscriptionNetworkInterface.prototype.fireResult = function (id) {\n        var handler = this.handlersById[id];\n        if (this.mockedSubscriptionsById.hasOwnProperty(id.toString())) {\n            var subscription = this.mockedSubscriptionsById[id];\n            if (subscription.results.length === 0) {\n                throw new Error(\"No more mocked subscription responses for the query: \" +\n                    (print(subscription.request.query) + \", variables: \" + JSON.stringify(subscription.request.variables)));\n            }\n            var response_1 = subscription.results.shift();\n            setTimeout(function () {\n                handler(response_1.error, response_1.result);\n            }, response_1.delay ? response_1.delay : 0);\n        }\n        else {\n            throw new Error('Network interface does not have subscription associated with this id.');\n        }\n    };\n    MockSubscriptionNetworkInterface.prototype.unsubscribe = function (id) {\n        delete this.mockedSubscriptionsById[id];\n    };\n    return MockSubscriptionNetworkInterface;\n}(MockNetworkInterface));\nexport { MockSubscriptionNetworkInterface };\nfunction requestToKey(request) {\n    var queryString = request.query && print(request.query);\n    return JSON.stringify({\n        variables: request.variables || {},\n        debugName: request.debugName,\n        query: queryString,\n    });\n}\n//# sourceMappingURL=test-utils.js.map"],"names":["__extends","this","React.Children","Component","PropTypes.shape","PropTypes.func","PropTypes.object","PropTypes.element","React.createElement","React.Component","print"],"mappings":"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"}